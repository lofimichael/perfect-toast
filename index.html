<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfect Toast Demo</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 40px;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }

    body.dark {
      background: #1a1a2e;
      color: #eee;
    }

    body.light {
      background: #f5f5f5;
      color: #333;
    }

    h1 {
      margin: 0 0 10px 0;
      font-size: 2rem;
    }

    .subtitle {
      opacity: 0.7;
      margin-bottom: 30px;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 30px;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .control-group label {
      font-weight: 600;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.8;
    }

    select, input, button {
      padding: 10px 16px;
      border-radius: 6px;
      border: 1px solid rgba(128,128,128,0.3);
      font-size: 14px;
      background: rgba(128,128,128,0.1);
      color: inherit;
    }

    button {
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.1s, box-shadow 0.2s;
    }

    button:hover {
      transform: translateY(-1px);
    }

    button:active {
      transform: translateY(0);
    }

    .btn-toast {
      background: linear-gradient(135deg, #00ff00 0%, #00cc00 100%);
      color: #000;
      border: none;
      padding: 14px 28px;
      font-size: 16px;
    }

    .btn-toast.cyan {
      background: linear-gradient(135deg, #00ccff 0%, #0099cc 100%);
    }

    .btn-toast.red {
      background: linear-gradient(135deg, #ff3333 0%, #cc0000 100%);
    }

    .btn-toast.amber {
      background: linear-gradient(135deg, #ffcc00 0%, #cc9900 100%);
    }

    .toast-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 20px;
    }

    .mode-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 10px 20px;
      cursor: pointer;
    }

    .position-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 4px;
      width: 120px;
    }

    .position-grid button {
      padding: 8px;
      font-size: 10px;
      background: rgba(128,128,128,0.2);
    }

    .position-grid button.active {
      background: #00ff00;
      color: #000;
    }

  </style>
</head>
<body class="dark">
  <button class="mode-toggle" onclick="toggleMode()">Toggle Light/Dark</button>

  <h1>Perfect Toast</h1>
  <p class="subtitle">A Perfect Dark-inspired toast notification library</p>

  <div class="controls">
    <div class="control-group">
      <label>Position</label>
      <div class="position-grid" id="positionGrid">
        <button data-pos="top-left">TL</button>
        <button data-pos="top-center">TC</button>
        <button data-pos="top-right">TR</button>
        <button data-pos="middle-left">ML</button>
        <button data-pos="middle-center">MC</button>
        <button data-pos="middle-right">MR</button>
        <button data-pos="bottom-left" class="active">BL</button>
        <button data-pos="bottom-center">BC</button>
        <button data-pos="bottom-right">BR</button>
      </div>
    </div>

    <div class="control-group">
      <label>Direction</label>
      <select id="direction">
        <option value="left">Left → Right</option>
        <option value="right">Right → Left</option>
        <option value="up">Bottom → Top</option>
        <option value="down">Top → Bottom</option>
      </select>
    </div>

    <div class="control-group">
      <label>Duration (ms)</label>
      <input type="number" id="duration" value="4000" min="0" step="500">
    </div>

    <div class="control-group">
      <label>Animation Speed (ms)</label>
      <input type="number" id="animSpeed" value="400" min="100" step="100">
    </div>
  </div>

  <div class="toast-buttons">
    <button class="btn-toast" onclick="showToast('green')">Success Toast</button>
    <button class="btn-toast cyan" onclick="showToast('cyan')">Info Toast</button>
    <button class="btn-toast red" onclick="showToast('red')">Error Toast</button>
    <button class="btn-toast amber" onclick="showToast('amber')">Warning Toast</button>
  </div>

  <script type="module">
    import { toast } from './src/index.ts';

    // Make toast available globally for demo
    window.toast = toast;

    // Configure defaults
    toast.configure({
      position: 'bottom-left',
      direction: 'left',
      duration: 4000,
      animationSpeed: 400,
      mode: 'auto',
    });

    // Position grid handler
    document.getElementById('positionGrid').addEventListener('click', (e) => {
      if (e.target.dataset.pos) {
        document.querySelectorAll('#positionGrid button').forEach(b => b.classList.remove('active'));
        e.target.classList.add('active');
        window.currentPosition = e.target.dataset.pos;
      }
    });

    window.currentPosition = 'bottom-left';

    window.getOptions = () => ({
      position: window.currentPosition,
      direction: document.getElementById('direction').value,
      duration: parseInt(document.getElementById('duration').value) || 4000,
      animationSpeed: parseInt(document.getElementById('animSpeed').value) || 400,
      mode: document.body.classList.contains('dark') ? 'dark' : 'light',
    });

    window.showToast = (theme) => {
      const messages = {
        green: 'Objective complete.',
        cyan: 'New intel received.',
        red: 'Connection lost.',
        amber: 'Low ammunition warning.',
      };
      toast(messages[theme], { ...window.getOptions(), theme });
    };

    window.toggleMode = () => {
      document.body.classList.toggle('dark');
      document.body.classList.toggle('light');
    };

    // Show welcome toast
    setTimeout(() => {
      toast('Perfect Toast initialized.', {
        theme: 'cyan',
        position: 'bottom-left',
        direction: 'left',
      });
    }, 500);
  </script>
</body>
</html>
